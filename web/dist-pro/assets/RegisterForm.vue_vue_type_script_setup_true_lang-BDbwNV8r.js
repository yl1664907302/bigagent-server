var g=(a,d,n)=>new Promise((p,i)=>{var u=s=>{try{l(n.next(s))}catch(c){i(c)}},e=s=>{try{l(n.throw(s))}catch(c){i(c)}},l=s=>s.done?p(s.value):Promise.resolve(s.value).then(u,e);l((n=n.apply(a,d)).next())});import{u as b,F as v,a as k}from"./useValidator-B2AzvKX-.js";import{c as y}from"./index-BGZQasTF.js";import{K as x,c as h}from"./element-plus-C3gpGjIx.js";import{l as I,Z as F,U as t,F as V,r as E,m as R,M as j,u as w,y as B}from"./vue-chunks-QFn3aUvO.js";function P(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!B(a)}const O=I({__name:"RegisterForm",emits:["to-login"],setup(a,{emit:d}){const n=d,{formRegister:p,formMethods:i}=b(),{getElFormExpose:u}=i,{t:e}=y(),{required:l}=k(),s=F([{field:"title",colProps:{span:24},formItemProps:{slots:{default:()=>t("h2",{class:"text-2xl font-bold text-center w-[100%]"},[e("login.register")])}}},{field:"username",label:e("login.username"),value:"",component:"Input",colProps:{span:24},componentProps:{placeholder:e("login.usernamePlaceholder")}},{field:"password",label:e("login.password"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:e("login.passwordPlaceholder")}},{field:"check_password",label:e("login.checkPassword"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:e("login.passwordPlaceholder")}},{field:"code",label:e("login.code"),colProps:{span:24},formItemProps:{slots:{default:o=>t("div",{class:"w-[100%] flex"},[t(x,{modelValue:o.code,"onUpdate:modelValue":r=>o.code=r,placeholder:e("login.codePlaceholder")},null)])}}},{field:"register",colProps:{span:24},formItemProps:{slots:{default:()=>{let o,r;return t(V,null,[t("div",{class:"w-[100%]"},[t(h,{type:"primary",class:"w-[100%]",loading:m.value,onClick:_},P(o=e("login.register"))?o:{default:()=>[o]})]),t("div",{class:"w-[100%] mt-15px"},[t(h,{class:"w-[100%]",onClick:f},P(r=e("login.hasUser"))?r:{default:()=>[r]})])])}}}}]),c={username:[l()],password:[l()],check_password:[l()],code:[l()]},f=()=>{n("to-login")},m=E(!1),_=()=>g(this,null,function*(){const o=yield u();o==null||o.validate(r=>g(this,null,function*(){if(r)try{m.value=!0,f()}finally{m.value=!1}}))});return(o,r)=>(R(),j(w(v),{schema:s,rules:c,"label-position":"top","hide-required-asterisk":"",size:"large",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid",onRegister:w(p)},null,8,["schema","onRegister"]))}});export{O as _};
