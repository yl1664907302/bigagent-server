var f=(o,u,t)=>new Promise((s,d)=>{var m=a=>{try{e(t.next(a))}catch(c){d(c)}},p=a=>{try{e(t.throw(a))}catch(c){d(c)}},e=a=>a.done?s(a.value):Promise.resolve(a.value).then(m,p);e((t=t.apply(o,u)).next())});import{e as N,f as S,_ as B}from"./index-BGZQasTF.js";import{l as V,Z as C,b as D,m as g,p as A,U as _,O as l,M as k,S as i,q as n,T as h,R as b,aJ as E,ai as r,aK as F,aL as G}from"./vue-chunks-QFn3aUvO.js";import"./element-plus-C3gpGjIx.js";const v=o=>(F("data-v-77aeba7c"),o=o(),G(),o),M={class:"dashboard-container"},R=v(()=>n("div",{class:"card-header"},[n("h2",null,[n("i",{class:"el-icon-warning-outline"}),i(" agent事件")])],-1)),T=v(()=>n("div",{class:"status-indicator"},null,-1)),q={class:"number"},J=v(()=>n("div",{class:"status-indicator"},null,-1)),K={class:"number2"},L={class:"number"},O=V({__name:"index",setup(o){const u=E(),t=C({dnum:0}),s=C({id:0,fnum:0}),d=()=>{u.push("/config/info")},m=()=>f(this,null,function*(){try{const e=yield N();t.dnum=e.data}catch(e){console.error("获取agent数量失败:",e)}}),p=()=>f(this,null,function*(){try{const e=yield S();s.fnum=e.data.fnum,s.id=e.data.id}catch(e){console.error("获取agent数量失败:",e)}});return D(()=>{m(),p()}),(e,a)=>{const c=r("el-list-item"),w=r("el-list"),x=r("el-card"),y=r("el-col"),I=r("el-row");return g(),A("div",M,[_(I,{gutter:24},{default:l(()=>[_(y,{span:12},{default:l(()=>[_(x,{class:"event-card"},{default:l(()=>[R,_(w,{class:"event-list"},{default:l(()=>[t.dnum>0?(g(),k(c,{key:0,class:"event-item",onClick:d},{default:l(()=>[T,i(" 仍有"),n("span",q,h(t.dnum),1),i("个agent实例离线未处理 ")]),_:1})):b("",!0),s.fnum>0?(g(),k(c,{key:1,class:"event-item",onClick:d},{default:l(()=>[J,i(" 配置ID "),n("span",K,h(s.id),1),i(", 仍有"),n("span",L,h(s.fnum),1),i("个agent配置更新失败 ")]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])}}}),H=B(O,[["__scopeId","data-v-77aeba7c"]]);export{H as default};
